{"ast":null,"code":"import baseUrl from '@/services/BaseUrl';\nconst url = baseUrl.urlApiRollCall + \"Persons\";\nexport default {\n  async getPersonsAsync() {\n    var persons;\n    await fetch(url).then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Error en la solicitud.');\n        //console.log(response.text())\n        //throw response.text()\n      }\n    }).then(data => {\n      //console.log(data)\n      persons = data;\n    }).catch(error => {\n      throw error;\n    });\n    return persons;\n  },\n  async setPersonAsync(person) {\n    var myHeaders = new Headers();\n    myHeaders.append(\"accept\", \"*/*\");\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var raw = JSON.stringify({\n      \"name\": person.name,\n      \"lastName\": person.lastName,\n      \"genere\": person.genere,\n      \"birthday\": person.birthday\n    });\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: myHeaders,\n      body: raw\n    });\n    if (!response.ok) {\n      response.json().then(errorJson => {\n        console.log(errorJson.errors); // should return the error json\n      });\n\n      console.log(response.text());\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data;\n  }\n};","map":{"version":3,"names":["baseUrl","url","urlApiRollCall","getPersonsAsync","persons","fetch","then","response","ok","json","Error","data","catch","error","setPersonAsync","person","myHeaders","Headers","append","raw","JSON","stringify","name","lastName","genere","birthday","method","headers","body","errorJson","console","log","errors","text","status"],"sources":["C:/Users/vmartinez/source/repos/RollCall/rollcall-vue/src/services/PersonsService.js"],"sourcesContent":["import baseUrl from '@/services/BaseUrl'\r\nconst url = baseUrl.urlApiRollCall + \"Persons\"\r\n\r\nexport default{    \r\n    async getPersonsAsync(){\r\n        var persons\r\n\r\n        await  fetch(url)        \r\n        .then(response => {\r\n            if (response.ok) {\r\n              return response.json();\r\n            } else {\r\n              throw new Error('Error en la solicitud.');\r\n              //console.log(response.text())\r\n              //throw response.text()\r\n            }\r\n        })\r\n        .then(data => {\r\n            //console.log(data)\r\n            persons = data\r\n        })\r\n        .catch(error =>{ throw error})\r\n\r\n        return persons\r\n    },\r\n    async setPersonAsync(person){\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"accept\", \"*/*\");\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        var raw = JSON.stringify({            \r\n            \"name\": person.name,\r\n            \"lastName\": person.lastName,\r\n            \"genere\": person.genere,\r\n            \"birthday\": person.birthday\r\n        });\r\n\r\n        const response = await fetch(url,{\r\n            method: 'POST',\r\n            headers:  myHeaders,\r\n            body: raw\r\n        })\r\n\r\n        if(!response.ok){\r\n            response.json().then((errorJson) => {\r\n                console.log(errorJson.errors); // should return the error json\r\n            }); \r\n            console.log(response.text())\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n\r\n        return data\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,OAAO,MAAM,oBAAoB;AACxC,MAAMC,GAAG,GAAGD,OAAO,CAACE,cAAc,GAAG,SAAS;AAE9C,eAAc;EACV,MAAMC,eAAe,GAAE;IACnB,IAAIC,OAAO;IAEX,MAAOC,KAAK,CAACJ,GAAG,CAAC,CAChBK,IAAI,CAACC,QAAQ,IAAI;MACd,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACf,OAAOD,QAAQ,CAACE,IAAI,EAAE;MACxB,CAAC,MAAM;QACL,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;QACzC;QACA;MACF;IACJ,CAAC,CAAC,CACDJ,IAAI,CAACK,IAAI,IAAI;MACV;MACAP,OAAO,GAAGO,IAAI;IAClB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAG;MAAE,MAAMA,KAAK;IAAA,CAAC,CAAC;IAE9B,OAAOT,OAAO;EAClB,CAAC;EACD,MAAMU,cAAc,CAACC,MAAM,EAAC;IACxB,IAAIC,SAAS,GAAG,IAAIC,OAAO,EAAE;IAC7BD,SAAS,CAACE,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC;IACjCF,SAAS,CAACE,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC;IACpD,IAAIC,GAAG,GAAGC,IAAI,CAACC,SAAS,CAAC;MACrB,MAAM,EAAEN,MAAM,CAACO,IAAI;MACnB,UAAU,EAAEP,MAAM,CAACQ,QAAQ;MAC3B,QAAQ,EAAER,MAAM,CAACS,MAAM;MACvB,UAAU,EAAET,MAAM,CAACU;IACvB,CAAC,CAAC;IAEF,MAAMlB,QAAQ,GAAG,MAAMF,KAAK,CAACJ,GAAG,EAAC;MAC7ByB,MAAM,EAAE,MAAM;MACdC,OAAO,EAAGX,SAAS;MACnBY,IAAI,EAAET;IACV,CAAC,CAAC;IAEF,IAAG,CAACZ,QAAQ,CAACC,EAAE,EAAC;MACZD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAEuB,SAAS,IAAK;QAChCC,OAAO,CAACC,GAAG,CAACF,SAAS,CAACG,MAAM,CAAC,CAAC,CAAC;MACnC,CAAC,CAAC;;MACFF,OAAO,CAACC,GAAG,CAACxB,QAAQ,CAAC0B,IAAI,EAAE,CAAC;MAC5B,MAAM,IAAIvB,KAAK,CAAE,uBAAsBH,QAAQ,CAAC2B,MAAO,EAAC,CAAC;IAC7D;IACA,MAAMvB,IAAI,GAAG,MAAMJ,QAAQ,CAACE,IAAI,EAAE;IAElC,OAAOE,IAAI;EACf;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
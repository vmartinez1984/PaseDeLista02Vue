{"ast":null,"code":"import personService from '@/services/PersonsService';\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      person: {\n        id: 0,\n        name: '',\n        lastName: '',\n        genere: '',\n        birthday: ''\n      }\n    };\n  },\n  methods: {\n    async savePerson() {\n      //console.log(this.person)\n      if (this.person.id == 0) {\n        this.isLoading = true;\n        try {\n          const data = await personService.setPersonAsync(this.person);\n          console.log(data);\n          this.showToastSuccess();\n          document.getElementById('buttonCloseModal').click();\n          this.resetPerson();\n          await this.getAllPersons();\n          this.isLoading = false;\n        } catch (error) {\n          console.log(error);\n          this.isError = true;\n          alert(\"Ocurrio un error\");\n          this.closeModal();\n        }\n      } else {\n        console.log(\"Not implement\");\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAyDA,OAAOA,aAAY,MAAO,2BAA0B;AAEpD,eAAc;EACZC,IAAI,GAAE;IACJ,OAAM;MACJC,SAAS,EAAE,KAAK;MAChBC,MAAM,EAAC;QACLC,EAAE,EAAC,CAAC;QACJC,IAAI,EAAC,EAAE;QACPC,QAAQ,EAAC,EAAE;QACXC,MAAM,EAAC,EAAE;QACTC,QAAQ,EAAE;MACZ;IACF;EACF,CAAC;EACDC,OAAO,EAAC;IACN,MAAMC,UAAU,GAAE;MACd;MACA,IAAG,IAAI,CAACP,MAAM,CAACC,EAAC,IAAK,CAAC,EAAC;QACrB,IAAI,CAACF,SAAQ,GAAI,IAAG;QACpB,IAAG;UACD,MAAMD,IAAG,GAAI,MAAMD,aAAa,CAACW,cAAc,CAAC,IAAI,CAACR,MAAM;UAC3DS,OAAO,CAACC,GAAG,CAACZ,IAAI;UAChB,IAAI,CAACa,gBAAgB,EAAC;UACtBC,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CAACC,KAAK,EAAC;UAClD,IAAI,CAACC,WAAW,EAAC;UACjB,MAAM,IAAI,CAACC,aAAa,EAAC;UACzB,IAAI,CAACjB,SAAQ,GAAI,KAAI;QACvB,CAAC,QAAMkB,KAAK,EAAC;UACXR,OAAO,CAACC,GAAG,CAACO,KAAK;UACjB,IAAI,CAACC,OAAM,GAAI,IAAG;UAClBC,KAAK,CAAC,kBAAkB;UACxB,IAAI,CAACC,UAAU,EAAC;QAClB;MACF,CAAC,MAAI;QACHX,OAAO,CAACC,GAAG,CAAC,eAAe;MAC7B;IACF;EACJ;AACF","names":["personService","data","isLoading","person","id","name","lastName","genere","birthday","methods","savePerson","setPersonAsync","console","log","showToastSuccess","document","getElementById","click","resetPerson","getAllPersons","error","isError","alert","closeModal"],"sourceRoot":"","sources":["C:\\Users\\vmartinez\\source\\repos\\RollCall\\rollcall-vue\\src\\components\\personas\\FormularioDePersona.vue"],"sourcesContent":["<template>\r\n          <!-- Button trigger modal -->\r\n          <button type=\"button\" class=\"btn btn-primary mb-2\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop\">\r\n        Agregar persona\r\n      </button>\r\n\r\n        <!-- Modal -->\r\n      <form @submit.prevent=\"savePerson\">\r\n        <div class=\"modal fade\" id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\" data-bs-autohide=\"true\" data-bs-delay=\"5000\">\r\n          <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n              <div class=\"modal-header\">\r\n                <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">Persona</h1>\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"buttonCloseModal\"></button>\r\n              </div>\r\n              <div class=\"modal-body\">\r\n\r\n                  <div class=\"form-group\">\r\n                    <label for=\"name\">Nombre</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Nombre\" v-model=\"person.name\"  :disabled=\"isLoading\">                    \r\n                  </div>\r\n                  <div class=\"form-group\">\r\n                    <label for=\"lastName\">Apellidos</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Apellidos\" v-model=\"person.lastName\" :disabled=\"isLoading\">\r\n                  </div>\r\n                  <div class=\"form-group\">\r\n                    <label for=\"birthday\">Fecha de nacimiento</label>\r\n                    <input type=\"date\" class=\"form-control\" placeholder=\"Fecha de nacimiento\" v-model=\"person.birthday\" :disabled=\"isLoading\">\r\n                  </div>     \r\n                  <div class=\"form-group\">\r\n                    <label for=\"genere\">Genero</label>\r\n                    <select name=\"genere\" class=\"form-select\" v-model=\"person.genere\" :disabled=\"isLoading\">\r\n                      <option value=\"\">Seleccione</option>\r\n                      <option value=\"Masculino\">Masculino</option>\r\n                      <option value=\"Femenino\">Femenino</option>\r\n                    </select>\r\n                  </div>                    \r\n                </div>\r\n\r\n                <div class=\"modal-footer\">\r\n                  <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" :disabled=\"isLoading\" @click=\"resetPerson\" id=\"formClose\">Cerrar</button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isLoading\">\r\n                    <span v-if=\"!isLoading\">Guardar</span>                   \r\n                    <span v-if=\"isLoading\">Un momento &nbsp;</span>\r\n                    <span v-if=\"isLoading\">\r\n                      <div class=\"spinner-border spinner-border-sm text-white\" role=\"status\"></div>\r\n                    </span>\r\n\r\n                  </button>        \r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n      </form>\r\n</template>\r\n\r\n<script>\r\nimport personService from '@/services/PersonsService'\r\n\r\nexport default{\r\n  data(){\r\n    return{\r\n      isLoading: false,\r\n      person:{\r\n        id:0,\r\n        name:'',\r\n        lastName:'',\r\n        genere:'',\r\n        birthday: ''\r\n      },\r\n    }\r\n  }, \r\n  methods:{\r\n    async savePerson(){\r\n        //console.log(this.person)\r\n        if(this.person.id == 0){\r\n          this.isLoading = true          \r\n          try{\r\n            const data = await personService.setPersonAsync(this.person)\r\n            console.log(data)\r\n            this.showToastSuccess()\r\n            document.getElementById('buttonCloseModal').click()\r\n            this.resetPerson()\r\n            await this.getAllPersons()\r\n            this.isLoading = false   \r\n          }catch(error){\r\n            console.log(error)\r\n            this.isError = true\r\n            alert(\"Ocurrio un error\")            \r\n            this.closeModal()\r\n          }\r\n        }else{\r\n          console.log(\"Not implement\")\r\n        }\r\n      }\r\n  }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}